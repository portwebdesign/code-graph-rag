FFFFFFFF..........                                                       [100%]
================================== FAILURES ===================================
____________________ test_sprint1_components_work_together ____________________
codebase_rag\tests\integration\e2e\test_sprint1_integration.py:37: in test_sprint1_components_work_together
    assert tools
E   assert {}
_________ TestMCPToolsIntegration.test_list_directory_works[asyncio] __________
codebase_rag\tests\integration\mcp\test_mcp_tools_integration.py:106: in test_list_directory_works
    assert "sample.py" in result
E   AssertionError: assert 'sample.py' in '.env\n.env.example\n.git\n.github\n.gitignore\n.gitmodules\n.idea\n.pre-commit-config.yaml\n.pypi_cache.json\n.pytest...txt\nTODO.md\nupstream-diff-stat.txt\nupstream-log.txt\nupstream-test-diff.txt\nuv.lock\nvertex-patch.txt\n__pycache__'
__________ TestListDirectoryBasic.test_list_root_directory[asyncio] ___________
codebase_rag\tests\unit\mcp\test_mcp_list_directory.py:63: in test_list_root_directory
    assert "file1.txt" in result
E   AssertionError: assert 'file1.txt' in 'Error: Target repository path does not exist: D:\\PROGRAMMING\\code-graph-rag\\<pytest_fixture(<function temp_project_root at 0x00000276B0C85BC0>)>'
___________ TestListDirectoryBasic.test_list_subdirectory[asyncio] ____________
codebase_rag\tests\unit\mcp\test_mcp_list_directory.py:76: in test_list_subdirectory
    assert "nested" in result
E   AssertionError: assert 'nested' in 'Error: Target repository path does not exist: D:\\PROGRAMMING\\code-graph-rag\\<pytest_fixture(<function temp_project_root at 0x00000276B0C85BC0>)>'
_________ TestListDirectoryBasic.test_list_nested_directory[asyncio] __________
codebase_rag\tests\unit\mcp\test_mcp_list_directory.py:87: in test_list_nested_directory
    assert "nested_file.txt" in result
E   AssertionError: assert 'nested_file.txt' in 'Error: Target repository path does not exist: D:\\PROGRAMMING\\code-graph-rag\\<pytest_fixture(<function temp_project_root at 0x00000276B0C85BC0>)>'
___ TestListDirectoryEdgeCases.test_list_file_instead_of_directory[asyncio] ___
codebase_rag\tests\unit\mcp\test_mcp_list_directory.py:120: in test_list_file_instead_of_directory
    assert "not a valid directory" in result
E   AssertionError: assert 'not a valid directory' in 'Error: Target repository path does not exist: D:\\PROGRAMMING\\code-graph-rag\\<pytest_fixture(<function temp_project_root at 0x00000276B0C85BC0>)>'
_____ TestListDirectoryPathHandling.test_list_with_relative_path[asyncio] _____
codebase_rag\tests\unit\mcp\test_mcp_list_directory.py:160: in test_list_with_relative_path
    assert "nested" in result
E   AssertionError: assert 'nested' in 'Error: Target repository path does not exist: D:\\PROGRAMMING\\code-graph-rag\\<pytest_fixture(<function temp_project_root at 0x00000276B0C85BC0>)>'
_ TestListDirectoryOutput.test_output_contains_only_names_not_paths[asyncio] __
codebase_rag\tests\unit\mcp\test_mcp_list_directory.py:198: in test_output_contains_only_names_not_paths
    assert "nested" in result
E   AssertionError: assert 'nested' in 'Error: Target repository path does not exist: D:\\PROGRAMMING\\code-graph-rag\\<pytest_fixture(<function temp_project_root at 0x00000276B0C85BC0>)>'
============================== warnings summary ===============================
codebase_rag/tests/integration/mcp/test_mcp_tools_integration.py: 3 warnings
codebase_rag/tests/unit/mcp/test_mcp_list_directory.py: 12 warnings
codebase_rag/tests/unit/mcp/test_mcp_query_and_index.py: 36 warnings
  D:\PROGRAMMING\code-graph-rag\codebase_rag\infrastructure\parser_loader.py:477: DeprecationWarning: int argument support is deprecated
    language = Language(lang_obj)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
FAILED codebase_rag/tests/integration/e2e/test_sprint1_integration.py::test_sprint1_components_work_together
FAILED codebase_rag/tests/integration/mcp/test_mcp_tools_integration.py::TestMCPToolsIntegration::test_list_directory_works[asyncio]
FAILED codebase_rag/tests/unit/mcp/test_mcp_list_directory.py::TestListDirectoryBasic::test_list_root_directory[asyncio]
FAILED codebase_rag/tests/unit/mcp/test_mcp_list_directory.py::TestListDirectoryBasic::test_list_subdirectory[asyncio]
FAILED codebase_rag/tests/unit/mcp/test_mcp_list_directory.py::TestListDirectoryBasic::test_list_nested_directory[asyncio]
FAILED codebase_rag/tests/unit/mcp/test_mcp_list_directory.py::TestListDirectoryEdgeCases::test_list_file_instead_of_directory[asyncio]
FAILED codebase_rag/tests/unit/mcp/test_mcp_list_directory.py::TestListDirectoryPathHandling::test_list_with_relative_path[asyncio]
FAILED codebase_rag/tests/unit/mcp/test_mcp_list_directory.py::TestListDirectoryOutput::test_output_contains_only_names_not_paths[asyncio]
8 failed, 10 passed, 28 deselected, 51 warnings in 53.87s
